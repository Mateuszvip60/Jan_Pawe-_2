<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generowanie Papieży</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
            background-color: #f0f0f0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }

        #startButton {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            border: none;
            background-color: transparent;
            cursor: pointer;
            font-size: 1.5rem;
            padding: 1rem;
            z-index: 10;
        }

        .papiez {
            position: absolute;
            width: 100px;
            height: 100px;
            border-radius: 50%;
            object-fit: cover;
            animation: spin 3s linear infinite;
        }

        /* Animacja obrotu */
        @keyframes spin {
            from {
                transform: rotate(0deg);
            }
            to {
                transform: rotate(360deg);
            }
        }
    </style>
</head>
<body>
    <button id="startButton">Generuj Papieży</button>
    
    <!-- Element audio do odtwarzania Barki -->
    <audio id="backgroundMusic" src="barka.mp3" loop></audio>

    <script>
        document.getElementById('startButton').addEventListener('click', startGeneratingPapieze);

        function startGeneratingPapieze() {
            document.getElementById('startButton').style.display = 'none'; // Ukryj przycisk po kliknięciu
            document.getElementById('backgroundMusic').play(); // Odtwarzaj muzykę

            setInterval(() => {
                let papiez = document.createElement('img');
                papiez.src = 'papiez_new.jpg'; // Ustaw obraz papieża
                papiez.classList.add('papiez');
                document.body.appendChild(papiez);

                // Ustaw losową pozycję początkową
                let startX = Math.random() * window.innerWidth;
                let startY = Math.random() * window.innerHeight;
                papiez.style.left = `${startX}px`;
                papiez.style.top = `${startY}px`;

                // Losowy kierunek ruchu
                let directionX = Math.random() < 0.5 ? -1 : 1;
                let directionY = Math.random() < 0.5 ? -1 : 1;

                // Szybkość poruszania się
                let speedX = Math.random() * 5 + 1;
                let speedY = Math.random() * 5 + 1;

                // Funkcja animacji papieża
                function movePapiez() {
                    let currentX = parseFloat(papiez.style.left);
                    let currentY = parseFloat(papiez.style.top);

                    // Sprawdzanie krawędzi, aby papież nie blokował się w rogach
                    if (currentX + speedX * directionX > window.innerWidth - 100 || currentX + speedX * directionX < 0) {
                        directionX *= -1;
                    }
                    if (currentY + speedY * directionY > window.innerHeight - 100 || currentY + speedY * directionY < 0) {
                        directionY *= -1;
                    }

                    // Aktualizacja pozycji
                    papiez.style.left = `${currentX + speedX * directionX}px`;
                    papiez.style.top = `${currentY + speedY * directionY}px`;

                    // Wywołanie ponownie animacji
                    requestAnimationFrame(movePapiez);
                }

                // Rozpocznij animację dla nowego papieża
                requestAnimationFrame(movePapiez);

            }, 10); // Papież generuje się co 10ms
        }
    </script>
</body>
</html>
